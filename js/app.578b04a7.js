(function(e){function t(t){for(var n,c,s=t[0],o=t[1],u=t[2],d=0,g=[];d<s.length;d++)c=s[d],Object.prototype.hasOwnProperty.call(i,c)&&i[c]&&g.push(i[c][0]),i[c]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);l&&l(t);while(g.length)g.shift()();return r.push.apply(r,u||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(n=!1)}n&&(r.splice(t--,1),e=c(c.s=a[0]))}return e}var n={},i={app:0},r=[];function c(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.m=e,c.c=n,c.d=function(e,t,a){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(a,n,function(t){return e[t]}.bind(null,n));return a},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/weather-widget/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=o;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"1a9b":function(e,t,a){"use strict";a("9e06")},"26da":function(e,t,a){},"2fb4":function(e,t,a){},"333f":function(e,t,a){"use strict";a("26da")},"56d7":function(e,t,a){"use strict";a.r(t);var n=a("2b0e"),i=a("7496"),r=a("f6c4"),c=function(){var e=this,t=e._self._c;return t(i["a"],[t("Header"),t(r["a"],{staticClass:"main-wrapper"},[t("Loader",{attrs:{active:e.getIsLoading}}),e._l(e.citiesByPage(e.currentPage),(function(e,a){return t("Weather",{key:a,attrs:{index:a,city:e}})}))],2),e.cities.length>e.itemsPerPage?t("Pagination",{attrs:{currentPage:e.currentPage,pages:Math.ceil(e.cities.length/e.itemsPerPage)}}):e._e()],1)},s=[],o=(a("2fb4"),function(){var e=this,t=e._self._c;return e.active?t("div",{staticClass:"lds-facebook"},[t("div"),t("div"),t("div")]):e._e()}),u=[],l={props:["active"]},d=l,g=(a("333f"),a("2877")),p=Object(g["a"])(d,o,u,!1,null,null,null),f=p.exports,h=a("40dc"),m=a("bb78"),y=a("ce7e"),b=a("2a7f"),v=function(){var e=this,t=e._self._c;return t(h["a"],{attrs:{app:"",height:"80px",color:"primary",dark:""}},[t(m["a"],[e._v("Weather Widget")]),t(y["a"]),t(b["a"],[e._v("City selection:")]),t("Autocomplete")],1)},P=[],_=a("c6a6"),x=a("5d23"),C=function(){var e=this,t=e._self._c;return t(_["a"],{staticClass:"mx-4",attrs:{loading:e.loading,items:e.items,"search-input":e.search,flat:"","hide-no-data":"","hide-details":"",label:"What the weather tn the city?","solo-inverted":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"item",fn:function({item:a}){return[t(x["a"],{on:{click:function(t){return e.getCityByName(e.cityObj)}}},[t(x["c"],{domProps:{textContent:e._s(a)}})],1)]}}]),model:{value:e.select,callback:function(t){e.select=t},expression:"select"}})},j=[],O=a("bc3a"),w=a.n(O);const L=w.a.create({baseURL:"https://api.bigdatacloud.net"}),k=w.a.create({baseURL:"https://api.api-ninjas.com/",headers:{"X-Api-Key":"1/4px2mjd3VZgrLQekOlxg==bkuGoKyYqGdcNukk"}}),S=w.a.create({baseURL:"https://api.api-ninjas.com",headers:{"X-Api-Key":"1/4px2mjd3VZgrLQekOlxg==bkuGoKyYqGdcNukk"}}),$=e=>"/v1/city?name="+e,W=e=>`/data/reverse-geocode-client?latitude=${e.latitude}&longitude=${e.longitude}`,D=e=>`/v1/weather?lat=${e.latitude}&lon=${e.longitude}`;var B=a("2f62"),M={data(){return{loading:!1,items:[],search:null,select:null,cities:[],cityObj:{}}},watch:{search(e){e&&e!==this.select&&this.querySelections(e)}},methods:{...Object(B["b"])(["getCityByName"]),querySelections(e){this.loading=!0,S.get($(e)).then(({data:e})=>{this.items=e.map(e=>(this.cityObj=e,`${e.name}, ${e.country}`)),this.loading=!1})}}},A=M,N=Object(g["a"])(A,C,j,!1,null,null,null),U=N.exports,q={components:{Autocomplete:U}},G=q,I=Object(g["a"])(G,v,P,!1,null,null,null),K=I.exports,R=a("b0af"),T=a("99d9"),H=a("62ad"),J=a("132d"),Q=a("da13"),V=a("34c3"),X=a("0fd9"),Y=function(){var e=this,t=e._self._c;return t(R["a"],{class:{byDefault:0==e.index}},[t(Q["a"],{attrs:{"two-line":""}},[t(x["a"],[t(x["c"],{staticClass:"text-h5"},[e._v(" "+e._s(e.city.name)+" ")])],1)],1),t(T["a"],[t(X["a"],[t(H["a"],{staticClass:"text-h4",attrs:{cols:"12"}},[e._v(" "+e._s(Math.round(e.city.temp))+"°C ")])],1)],1),t(Q["a"],[t(V["a"],[t(J["a"],[e._v("mdi-send")])],1),t(x["b"],[e._v("speed: "+e._s(e.city.wind_speed)+" km/h")])],1),t(Q["a"],[t(V["a"],[t(J["a"],[e._v("fa-solid fa-droplet")])],1),t(x["b"],[e._v("humidity: "+e._s(e.city.humidity)+"%")])],1),t(Q["a"],[t(V["a"],[t(J["a"],[e._v("fa-solid fa-temperature-high")])],1),t(x["b"],[e._v("max: "+e._s(e.city.max_temp)+"°C")])],1),t(Q["a"],[t(V["a"],[t(J["a"],[e._v("fa-solid fa-temperature-low")])],1),t(x["b"],[e._v("min: "+e._s(e.city.min_temp)+"°C")])],1),t(Q["a"],[t(x["b"],{staticClass:"delete",on:{click:function(t){return e.deleteWeather(e.index)}}},[e._v("Delete ")])],1)],1)},Z=[],z={props:["city","index"],data(){return{}},mounted(){this.getDate()},methods:{...Object(B["d"])(["deleteWeather"]),getDate(e){const t=`${(new Date).toLocaleDateString("en-US",{weekday:"short"})} ${(new Date).toLocaleString("en-US",{hour:"numeric",hour12:!0})}, ${e}`;return t}},comuted:{}},E=z,F=(a("1a9b"),Object(g["a"])(E,Y,Z,!1,null,null,null)),ee=F.exports,te=function(){var e=this,t=e._self._c;return t("div",{staticClass:"text-center mb-5"},[t("div",{staticClass:"pagination"},e._l(e.pages,(function(a){return t("span",{key:a,staticClass:"pagination__item",class:{active:e.currentPage===a-1},on:{click:function(t){return e.setCurrentPage(a-1)}}},[e._v(" "+e._s(a)+" ")])})),0)])},ae=[],ne={props:["currentPage","pages"],methods:{...Object(B["d"])(["setCurrentPage"])}},ie=ne,re=(a("cb99"),Object(g["a"])(ie,te,ae,!1,null,null,null)),ce=re.exports,se={name:"App",mounted(){this.getLocation()},components:{Loader:f,Header:K,Weather:ee,Pagination:ce},computed:{...Object(B["c"])(["cities","citiesByPage","currentCity","currentPage","getIsLoading","itemsPerPage"])},methods:{...Object(B["b"])(["getLocation"]),...Object(B["d"])(["setCurrentCity"])}},oe=se,ue=Object(g["a"])(oe,c,s,!1,null,null,null),le=ue.exports,de=(a("15f5"),a("f309"));n["a"].use(de["a"]);var ge=new de["a"]({icons:{iconfont:"fa"}});n["a"].use(B["a"]);var pe=new B["a"].Store({state:{cities:[],currentCity:{},currentPage:0,isLoading:!1,itemsPerPage:5},getters:{cities:e=>e.cities,currentCity:e=>e.currentCity,currentPage:e=>e.currentPage,citiesByPage:e=>t=>e.cities.slice(t*e.itemsPerPage,t*e.itemsPerPage+e.itemsPerPage),getIsLoading:e=>e.isLoading,itemsPerPage:e=>e.itemsPerPage},actions:{getLocation({commit:e}){let t={};try{navigator.geolocation.getCurrentPosition(a=>{e("toggleLoading"),t={latitude:a.coords.latitude,longitude:a.coords.longitude},L.get(W(t)).then(({data:e})=>{e["name"]=e["city"],t={...t,...e}}),k.get(D(t)).then(a=>{t={...t,...a.data},e("addCity",t),e("toggleLoading")})})}catch(a){console.log(a)}},async getCityByName({commit:e},t){let a=t;e("toggleLoading"),await k.get(D(t)).then(t=>{a={...a,...t.data},e("addCity",a),e("toggleLoading")})}},mutations:{toggleLoading(e){e.isLoading=!e.isLoading},deleteWeather(e,t){e.cities=e.cities.filter((e,a)=>a!=t),e.cities.length<=e.itemsPerPage&&(e.currentPage=e.currentPage>=0?0:-1)},addCity(e,t){const a=e.cities.length;a%e.itemsPerPage===0&&a>0&&(e.currentPage+=1),e.cities=[...e.cities,t]},setCurrentPage(e,t){e.currentPage=t}}});n["a"].config.productionTip=!1,new n["a"]({vuetify:ge,axios:w.a,store:pe,render:e=>e(le)}).$mount("#app")},"9e06":function(e,t,a){},cb99:function(e,t,a){"use strict";a("d021")},d021:function(e,t,a){}});
//# sourceMappingURL=app.578b04a7.js.map